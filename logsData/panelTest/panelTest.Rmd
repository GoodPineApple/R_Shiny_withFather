---
title: "panelTest"
output: html_document
---

타이틀 영역
-----------
> title: "panelTest"
  output: html_document

현재는 html_document로 작성합니다.

flexdashboard를 사용할 때 타이틀 영역
-------------------------------------
> title: "panelTest"
output: 
flexdashboard::flex_dashboard:
storyboard: true
social: menu
source: embed

R Script 전체
-------------
```{r panel}
knitr::opts_chunk$set(echo = TRUE)
library(shiny)
library(flexdashboard)
library(leaflet)
df<-read.csv('resources/cctv_clean.csv',header = T)
# View(df)
ui <- pageWithSidebar(
  headerPanel(
    flowLayout(
      "1첫번째","두번째","세번째","네번째"
    )
  ),
  
  mainPanel(
    "메인",
    leafletOutput("theMap")
  ),
  # mainPanel(
  # tabsetPanel(
  #   tabPanel("Plot", plotOutput("plot")),
  #   tabPanel("Summary", verbatimTextOutput("summary")),
  #   tabPanel("Table", tableOutput("table"))
  # )

  #sidebarPanel(
    navlistPanel(
      tabPanel("일",NULL),
      tabPanel("이",NULL),
      tabPanel("삼",NULL)
    )
  #)
)

server <- function(input, output){
  points <- eventReactive(input$recalc, {
    cbind(rnorm(40) * 2 + 13, rnorm(40) + 48)
  }, ignoreNULL = FALSE)

  #df = data.frame(Lat = 1:10, Long = rnorm(10))
  output$theMap <- renderLeaflet({
    leaflet(options = leafletOptions(
        #maxZoom=12
        # ,attributionControl = T
        # ,zoomControl = F1
      )) %>%
      addProviderTiles(providers$OpenStreetMap.Mapnik,
        options = providerTileOptions(noWrap = TRUE)
      ) %>%
      #addMarkers(data = cbind(127.38, 36.35))
      #addMarkers(lng=127.38, lat=36.35)
      addCircles(data=df, radius=10, lng=~LNG, lat=~LAT)
  })
}
shinyApp(ui=ui, server=server)
```


## setup
```{r setup}
knitr::opts_chunk$set(echo = TRUE)
library(shiny)
library(flexdashboard)
library(leaflet)
```

## UI
```{r ui}
ui <- pageWithSidebar(
  headerPanel(
    flowLayout(
      "1","2","3","4"
    )
  ),
  
  mainPanel(
    "main panel",
    leafletOutput("theMap")
  ),
  # mainPanel(
  # tabsetPanel(
  #   tabPanel("Plot", plotOutput("plot")),
  #   tabPanel("Summary", verbatimTextOutput("summary")),
  #   tabPanel("Table", tableOutput("table"))
  # )

  #sidebarPanel(
    navlistPanel(
      tabPanel("a",NULL),
      tabPanel("a",NULL),
      tabPanel("a",NULL)
    )
  #)
)
```


## SERVER
```{r server}
server <- function(input, output){
  points <- eventReactive(input$recalc, {
    cbind(rnorm(40) * 2 + 13, rnorm(40) + 48)
  }, ignoreNULL = FALSE)

  df = data.frame(Lat = 1:10, Long = rnorm(10))
  output$theMap <- renderLeaflet({
    leaflet(options = leafletOptions(
        #maxZoom=12
        # ,attributionControl = T
        # ,zoomControl = F1
      )) %>%
      addProviderTiles(providers$OpenStreetMap.Mapnik,
        options = providerTileOptions(noWrap = TRUE)
      ) %>%
      #addMarkers(data = cbind(127.38, 36.35))
      #addMarkers(lng=127.38, lat=36.35)
      addCircles(radius = 1000, lng=127.38, lat=36.35)
  })
}
```

## R Shiny 실행
```{r shinyApp}
shinyApp(ui=ui, server=server)
```